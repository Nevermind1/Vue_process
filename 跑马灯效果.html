<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript" src="vue.min.js"></script>
</head>
<body>
	<div id="app">
		<button @click="run">走</button>
		<button @click="stoprun">停</button>
		<p>{{msg}}</p>
	</div>

	<script type="text/javascript">
	var vm=new Vue({
		el:"#app",
		data:{
			msg:"猥琐发育~~别浪。。。",
			intervalId:null
		},
		methods:{
			run:function(){
			// var _this=this
			if(!this.intervalId){//避免多次点击造成多次调用，需判断当前intervalId是否为Null,为null则执行该函数，否则不执行
				this.intervalId=setInterval(()=>{//箭头函数：内部this指向与外部保持一致
				//将第一个字符截取放在最后和剩余的字符拼接，再把新值赋给msg。(获取vm内的数据或方法需要使用this关键字)
				this.msg=this.msg.substring(1)+this.msg.substring(0,1)
				console.log(this.msg)	
			},400)	
			}
			
			
		},
		stoprun(){
			clearInterval(this.intervalId)
			this.intervalId=null//重新赋null，再次点击运行能正常调用run 方法
		}
	}
})

	</script>
</body>
</html>
